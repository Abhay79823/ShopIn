import{u as l,j as t,L as u,a as h,r as o}from"./index-CaLrhGG9.js";import{a as p}from"./index-t--hEgTQ.js";const x=({product:s})=>{const r=l(),c=()=>{r(h(s))};return t.jsxs("div",{className:"product-item",children:[t.jsx("img",{src:s.thumbnail,alt:s.title}),t.jsx("h3",{children:s.title}),t.jsxs("p",{children:["$",s.price]}),t.jsx("button",{onClick:c,children:"Add to Cart"}),t.jsx(u,{to:`/product/${s.id}`,children:"View Details"})]})},m=()=>{const[s,r]=o.useState([]),[c,i]=o.useState(!0),[a,d]=o.useState("");return o.useEffect(()=>{(async()=>{try{const n=await p.get("https://dummyjson.com/products");r(n.data.products)}catch(n){console.error("Error fetching products:",n),d("Failed to fetch products.")}finally{i(!1)}})()},[]),{products:s,loading:c,error:a}},g=()=>{const[s,r]=o.useState(""),{products:c,loading:i,error:a}=m(),d=c.filter(e=>e.title.toLowerCase().includes(s.toLowerCase()));return i?t.jsx("div",{children:"Loading..."}):a?t.jsxs("div",{children:["Error: ",a]}):t.jsxs("div",{className:"product-list",children:[t.jsx("input",{className:"product-search",type:"text",placeholder:"Search Products",value:s,onChange:e=>r(e.target.value)}),t.jsx("h3",{children:"List of Products"}),t.jsx("div",{className:"product-list-item",children:d.map(e=>t.jsx(x,{product:e},e.id))})]})};export{g as default};
